/**
 * Map containing all sprite images with their dimensions and position
 *
 * Can be accessed using map-get (see pngspriteStyles mixin)
 */

$pngsprite: (
	{{#each sprites}}"{{name}}": (
		"position": (
			"x": {{x}},
			"y": {{y}}
		),
		"dimensions": (
			"x": {{width}},
			"y": {{height}}
		),
		"url": "{{image}}"
	),
	{{/each}}
);


// Example template
// See https://github.com/twolfson/json2css/blob/master/lib/templates/scss.template.mustache for parameters
@mixin pngsprite($name) {

	&:before {
		@include pngspriteStyles($name);

		content: "";
		display: inline-block;
	}
}

@mixin pngspriteStyles($name, $skipDimensions: false) {
	$image: map-get($pngsprite, $name);

	@if $image == null {
		@error "No image '#{$name}' found";
	}

	$url: map-get($image, "url");
	$position: map-get($image, "position");
	$dimensions: map-get($image, "dimensions");

	background-image: url($url);
	background-position: map-get($position, "x") + 0px map-get($position, "y") + 0px;

	@if $skipDimensions != true {
		height: map-get($dimensions, "y") + 0px;
		width: map-get($dimensions, "x") + 0px;
	}
}
